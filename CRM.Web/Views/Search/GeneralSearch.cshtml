@using System.Text.RegularExpressions
@model IEnumerable<CRM.Web.Models.GeneralSearchViewModel>
@{
    ViewBag.Title = "نتائج البحث";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card ">
    <div class="card-header card-header-primary" data-background-color="purple">
        <h4 class="card-title "> @ViewBag.Title </h4>
    </div>
    <div class="card-body newstable ">
        @foreach (var item in Model)
        {
            <div class="row">
                <h4>@item.Name </h4>
                <img src="@item.ImageUrl" alt="" class="img-responsive newsimg">
                <div class="shortnews">

                    @{
                        var desc = item.Details != null? Regex.Replace(item.Details, "<.*?>", String.Empty): string.Empty;
                        if (desc.Length > 100)
                        {
                            <small>
                                @Html.Raw(desc.Substring(0, 100))
                            </small>
                        }
                        else
                        {
                            <small>
                                @Html.Raw(desc)
                            </small>
                        }

                    }

                    <br>
                    <p class="category">
                        <i class="material-icons">access_time</i> @item.Date
                        <a href="@item.Url"> <small class="newsreadmore">اقرأ</small></a>
                    </p>
                </div>
            </div>
                        }
        <br />
    </div>
</div>
